@import '95-variables'

indeterminate-grad = linear-gradient(to right, alpha(#444, 0%) 0%, alpha(#444, 0%) 20%, alpha(#444, 40%) 20%, alpha(#444, 40%) 40%, alpha(#444, 80%) 40%, alpha(#444, 80%) 60%, alpha(#444, 40%) 60%, alpha(#444, 40%) 80%, alpha(#444, 20%) 80%, alpha(#444, 20%) 100%)

@keyframes indeterminate-anim
  0%, 9%
    background-position 0 0
  10%, 19%
    background-position -20px 0
  20%, 29%
    background-position -40px 0
  30%, 39%
    background-position -60px 0
  40%, 49%
    background-position -80px 0
  50%, 59%
    background-position -100px 0
  60%, 69%
    background-position -120px 0
  70%, 79%
    background-position -140px 0
  80%, 89%
    background-position -160px 0
  90%, 99%
    background-position -180px 0
  
progress
  -webkit-appearance none
  -moz-appearance none
  appearance none
  color var(--theme-grad-end)
  background-color var(--ui-base)
  border 2px inset var(--ui-border)
  height 12px

  &::-webkit-progress-bar
    background-color var(--ui-base)
  &::-webkit-progress-value
    background-color var(--theme-grad-end)
  &::-moz-progress-bar
    background-color var(--theme-grad-end)
  &::-ms-fill
    background-color var(--theme-grad-end)
    animation-name none

  &:indeterminate
    color: var(--ui-base)
    background-color var(--theme-grad-end)
    background-image indeterminate-grad
    background-size 200px
    animation indeterminate-anim 1.5s linear infinite

    &::-webkit-progress-bar
      background-color var(--theme-grad-end)
      background-image indeterminate-grad
      background-size 200px
      animation indeterminate-anim 1.5s linear infinite
      
    &::-moz-progress-bar
      background-color var(--theme-grad-end)
      background-image indeterminate-grad
      background-size 200px
      animation indeterminate-anim 1.5s linear infinite